<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>제품 안내</title>
  <link rel="stylesheet" href="./shared/css/common.css" />
</head>
<body class="home-page">
  <header class="topbar">
    <div class="wrap">
      <a class="brand" href="./home.html">
        <span class="brand-mark">TOKIMEC</span>
        <span class="brand-title">KOREA</span>
      </a>
      <a class="home-toplink" href="http://www.tokimec.co.kr" target="_blank" rel="noopener noreferrer">www.tokiemc.co.kr</a>
    </div>
  </header>

  <section class="hero">
    <div class="wrap">
      <p class="kicker"></p>
      <h1>PRODUCT LINEUP</h1>
      <p class="lead">산업 환경을 위한 정밀 유량.레벨 측정 기술</p>
    </div>
  </section>

  <main class="layout">
    <section class="catalog" aria-label="제품 카탈로그">
      <aside class="sidebar" aria-label="제품 목록">
        <div class="sidebar-head">제품</div>
        <nav class="side-links" id="sideLinks">
          <section class="side-group" aria-label="유량계">
            <p class="side-group-title">유량계</p>
            <a href="#p-tuf-10" data-product-link data-detail-href="./tuf-10/index.html"><span>TUF-10</span><span class="pill">상세</span></a>
            <a href="#p-tuf-12" data-product-link data-detail-href="./tuf-12/tuf-12.html"><span>TUF-12</span><span class="pill">상세</span></a>
          </section>
          <section class="side-group" aria-label="간단계측기기">
            <p class="side-group-title">간단계측기기</p>
            <a href="#p-uc1" data-product-link data-detail-href="./uc-1/index.html"><span>UC-1</span><span class="pill">상세</span></a>
            <a href="#p-mw10" data-product-link data-detail-href="./mw10/index.html"><span>MW10</span><span class="pill">상세</span></a>
            <a href="#p-uw-30p" data-product-link data-detail-href="./uw-30p/index.html"><span>UW-30P</span><span class="pill">상세</span></a>
          </section>
          <section class="side-group" aria-label="레벨계">
            <p class="side-group-title">레벨계</p>
            <a href="#p-krg-10" data-product-link data-detail-href="./krg-10/index.html"><span>KRG-10</span><span class="pill">상세</span></a>
            <a href="#p-hc-10" data-product-link data-detail-href="./hc-10/index.html"><span>HC-10</span><span class="pill">상세</span></a>
          </section>
          <section class="side-group" aria-label="기타">
            <p class="side-group-title">기타</p>
            <a href="#p-mhp" data-product-link data-detail-href="./mhp/index.html"><span>MHP</span><span class="pill">상세</span></a>
          </section>
        </nav>
        <div class="mobile-qr-wrap" aria-label="모바일 접속 QR">
          <p class="mobile-qr-title">모바일 접속 QR</p>
          <a class="mobile-qr-anchor" id="mobileQrAnchor" href="./home.html" target="_blank" rel="noopener noreferrer">
            <img id="mobileQrImg" alt="모바일 접속 QR 코드" loading="lazy" />
          </a>
          <button class="mobile-copy-btn" id="mobileCopyBtn" type="button">주소 복사</button>
          <p class="mobile-copy-status" id="mobileCopyStatus" aria-live="polite"></p>
        </div>
      </aside>

      <div class="content" aria-label="제품 상세">
        <article class="product" id="p-tuf-10" data-guide-width="70%" data-guide-src="./shared/img/guide/tuf-10/TUF-10_g_1.png">
          <h2>TUF-10</h2>
          <div class="product-grid">
            <div>
              <div class="img-ph">이미지(추후 삽입)</div>
              <div style="height:12px"></div>
              <div class="actions" style="display:flex; gap:6px; flex-wrap:nowrap">
                <a class="btn primary rect" href="./tuf-10/index.html">상세 페이지</a>
                <a class="btn gray rect" href="./pdf/tuf-10.pdf">PDF 다운로드</a>
              </div>
            </div>
            <div>
              <div class="product-note product-note--blue">
                <div>클램프온 방식으로 배관 절단 없이 설치, 압력 손실 없음</div>
                <div>25A~6000A 구경 대응으로 소구경부터 대구경까지 적용</div>
                <div>최대 4측선 측정으로 난류 영향 저감 및 정밀도 향상</div>
                <div>4~20mA/펄스/접점/RS232C 지원으로 제어 연동 용이</div>
              </div>
            </div>
          </div>
        </article>

<article class="product" id="p-tuf-12" data-guide-width="60%">
          <h2>TUF-12</h2>
          <div class="product-grid">
            <div>
              <img src="./shared/img/guide/tuf-12/tuf-12_g_1.png" alt="TUF-12 제품안내 이미지" style="width:60%; height:auto; border-radius:12px; display:block; margin:0 auto;" />
              <div style="height:12px"></div>
              <div class="actions" style="display:flex; gap:6px; flex-wrap:nowrap">
                <a class="btn primary rect" href="./tuf-12/tuf-12.html">상세 페이지</a>
                <a class="btn gray rect" href="./pdf/tuf-12.pdf">PDF 다운로드</a>
              </div>
            </div>
            <div>
              <div class="product-note product-note--blue">
               
                <div>더 컴팩트해진 효율적인 초음파 유량계</div>
                <div>TUF-10의 장점은 그대로 살리면서 소형화</div>
                <div>설치는 더욱 간편하게</div>
                <div>구경 최적화 디자인 설계</div>
              </div>
            </div>
          </div>
        </article>

<article class="product" id="p-uc1" data-guide-width="50%" data-guide-src="./shared/img/guide/uc1/uc1-g_01.png">
          <h2>UC-1</h2>
          <div class="product-grid">
            <div>
              <div class="img-ph">이미지(추후 삽입)</div>
              <div style="height:12px"></div>
              <div class="actions" style="display:flex; gap:6px; flex-wrap:nowrap">
                <a class="btn primary rect" href="./uc-1/index.html">상세 페이지</a>
                <a class="btn gray rect" href="./pdf/uc-1.pdf">PDF 다운로드</a>
              </div>
            </div>
            <div>
              <div class="product-note product-note--blue">
                <div>Clamp-on 방식: 배관 절단 없이 설치 가능</div>
                <div>배관/배선 공사 불필요: 별도 공사 없이 설치 가능</div>
                <div>외부전원 불필요: 내장 배터리 구동(배터리 수명 10년)</div>
                <div>설치공구 불필요: 손으로 조이는 플라스틱 밴드 적용</div>
              </div>
            </div>
          </div>
        </article>

<article class="product" id="p-mw10" data-guide-width="35%">
          <h2>MW10</h2>
          <div class="product-grid">
            <div>
              <img src="./shared/img/guide/mw10/mw10_g_01.png" alt="MW10 제품안내 이미지" style="width:35%; height:auto; border-radius:12px; display:block; margin:0 auto;" />
              <div style="height:12px"></div>
              <div class="actions" style="display:flex; gap:6px; flex-wrap:nowrap">
                <a class="btn primary rect" href="./mw10/index.html">상세 페이지</a>
                <a class="btn gray rect" href="./pdf/mw10.pdf">PDF 다운로드</a>
              </div>
            </div>
            <div>
              <div class="product-note product-note--blue">
                <div>최대100m까지 대응. 용도별 30m.50m모델/ 100m모델 2종류 라인업</div>
                <div>소형·경량이기 때문에, 간단하게 설치가 가능.</div>
                <div>솔라패널 독립 전원시스템의 간헐동작에 대응(저소비전력,고속기동)</div>
                <div>최소 5초의 빠른 시작.</div>
                <div>스마트폰과 Bluetooth® 연결로 무선으로 설정 및 확인이 가능.</div>
              </div>
            </div>
          </div>
        </article>

<article class="product" id="p-uw-30p" data-guide-width="50%" data-guide-src="./shared/img/guide/uw-30p/uw-30p_g_01.png">
          <h2>UW-30P</h2>
          <div class="product-grid">
            <div>
              <div class="img-ph">이미지(추후 삽입)</div>
              <div style="height:12px"></div>
              <div class="actions" style="display:flex; gap:6px; flex-wrap:nowrap">
                <a class="btn primary rect" href="./uw-30p/index.html">상세 페이지</a>
                <a class="btn gray rect" href="./pdf/uw-30p.pdf">PDF 다운로드</a>
              </div>
            </div>
            <div>
              <div class="product-note product-note--blue">
                <div>JIS/JWWA 규격 내장으로 배관 설정 시간 단축</div>
                <div>약 1분 설치, 매뉴얼리스 조작 지원</div>
                <div>2개소 동시 계측 + 2채널 출력</div>
                <div>트렌드/파형 표시, CSV 저장, 리포트 출력</div>
                <div>두께/열량 측정 및 7개 언어 지원</div>
              </div>
            </div>
          </div>
        </article>

<article class="product" id="p-krg-10" data-guide-width="60%" data-guide-src="./shared/img/guide/krg-10/krg-10_01.png">
          <h2>KRG-10</h2>
          <div class="product-grid">
            <div>
              <div class="img-ph">이미지(추후 삽입)</div>
              <div style="height:12px"></div>
              <div class="actions" style="display:flex; gap:6px; flex-wrap:nowrap">
                <a class="btn primary rect" href="./krg-10/index.html">상세 페이지</a>
                <a class="btn gray rect" href="./pdf/krg-10.pdf">PDF 다운로드</a>
              </div>
            </div>
            <div>
              <div class="product-note product-note--blue">
                <div>26GHz 비접촉 레이더로 최대 30m 레벨 측정</div>
                <div>±2mm 고정밀, 1초 갱신, 최대 2m/s 추종</div>
                <div>4~20mA + HART 출력, 체적/유량 계산 지원</div>
                <div>IP66/67 및 ATEX/IECEx/KCs 방폭 대응</div>
              </div>
            </div>
          </div>
        </article>

<article class="product" id="p-hc-10" data-guide-width="55%" data-guide-src="./shared/img/guide/hc-10/hc-10_g_01.png">
          <h2>HC-10</h2>
          <div class="product-grid">
            <div>
              <div class="img-ph">이미지(추후 삽입)</div>
              <div style="height:12px"></div>
              <div class="actions" style="display:flex; gap:6px; flex-wrap:nowrap">
                <a class="btn primary rect" href="./hc-10/index.html">상세 페이지</a>
                <a class="btn gray rect" href="./pdf/hc-10.pdf">PDF 다운로드</a>
              </div>
            </div>
            <div>
              <div class="product-note product-note--blue">
                <div>높이 60mm 일체형 바디, IP68 상당 수중형 구조</div>
                <div>미약 전파 채용으로 별도 사용 제한 없이 운용</div>
                <div>하천·해안·도심 등 개방 공간 설치에 적합</div>
                <div>전원·신호 2선식으로 기존 DC 라인에 바로 연결</div>
                <div>출력 신호: DC 4~20mA 전류 출력</div>
              </div>
            </div>
          </div>
        </article>

<article class="product" id="p-mhp" data-guide-width="50%">
          <h2>MHP</h2>
          <div class="product-grid">
            <div>
              <div class="img-ph">이미지(추후 삽입)</div>
              <div style="height:12px"></div>
              <div class="actions" style="display:flex; gap:6px; flex-wrap:nowrap">
                <a class="btn primary rect" href="./mhp/index.html">상세 페이지</a>
              </div>
            </div>
            <div>
              <div class="product-note product-note--blue"></div>
            </div>
          </div>
        </article>

      </div>
    </section>

  </main>

  <footer class="footer contact-band" id="contact">
    <div class="contact-band__inner">
      <div>
        <h2 class="contact-band__title">TOKIMEC KOREA</h2>
        <p class="contact-band__lead">
          <span class="contact-band__lead-line">정확한 측정과 쉬운 설치로 산업 현장의 효율을 높입니다.</span><br />
          문의 사항이 있으시면 언제든 연락주세요.
        </p>
        <a class="contact-band__link" href="http://www.tokimec.co.kr" target="_blank" rel="noopener noreferrer">www.tokimec.co.kr</a>
      </div>
      <div class="contact-band__list">
        <article class="contact-band__card">
          <h3 class="contact-band__card-title">서울 본사</h3>
          <p class="contact-band__card-text">(07294) 서울시 영등포구 선유로70, 803호(문래동3가, 우리벤처타운2)</p>
        </article>
        <article class="contact-band__card">
          <h3 class="contact-band__card-title">대구공장</h3>
          <p class="contact-band__card-text">(43008) 대구광역시 달성군 구지면 국가산단대로46길 23</p>
        </article>
        <article class="contact-band__card">
          <h3 class="contact-band__card-title">부산지점</h3>
          <p class="contact-band__card-text">(46977) 부산시 사상구 괘감로37, 905호(괘법동, 산업빌딩)</p>
        </article>
        <article class="contact-band__card">
          <h3 class="contact-band__card-title">수원사업장</h3>
          <p class="contact-band__card-text">(16954) 경기도 용인시 기흥구 흥덕1로 13 흥덕IT밸리 B동 10층 1003호</p>
        </article>
        <article class="contact-band__card">
          <h3 class="contact-band__card-title">충청M/O</h3>
          <p class="contact-band__card-text">(28576) 충북 청주시 흥덕구 공단로 134, 711호(송정동, 세중테크노밸리)</p>
        </article>
        <article class="contact-band__card">
          <h3 class="contact-band__card-title">호남M/O</h3>
          <p class="contact-band__card-text">(54630) 전북 익산시 동서로 370 익산종합비즈니스센터 3층 306호</p>
        </article>
        <article class="contact-band__card">
          <h3 class="contact-band__card-title">TKW(중국)</h3>
          <p class="contact-band__card-text">240-4, XIDA ROAD, MEICUN INDERSTRIAL CENTER, XINQU, WUXI CITY, CHINA</p>
        </article>
      </div>
    </div>
  </footer>

  <script>
    const getHomeStickyOffset = () => {
      const topbar = document.querySelector(".topbar");
      const hero = document.querySelector(".hero");
      const topbarHeight = topbar ? topbar.offsetHeight : 0;
      const heroHeight = hero ? hero.offsetHeight : 0;
      return topbarHeight + heroHeight + 8;
    };

    const syncHomeStickyOffsetVar = () => {
      const topbar = document.querySelector(".topbar");
      const hero = document.querySelector(".hero");
      const topbarHeight = topbar ? topbar.offsetHeight : 0;
      const heroHeight = hero ? hero.offsetHeight : 0;
      document.documentElement.style.setProperty("--home-topbar-h", `${topbarHeight}px`);
      document.documentElement.style.setProperty("--home-hero-h", `${heroHeight}px`);
      document.documentElement.style.setProperty("--home-stack-h", `${topbarHeight + heroHeight}px`);
    };

    syncHomeStickyOffsetVar();
    window.addEventListener("resize", syncHomeStickyOffsetVar);
    window.addEventListener("load", syncHomeStickyOffsetVar);

    const topbarEl = document.querySelector(".topbar");
    const heroEl = document.querySelector(".hero");
    if ("ResizeObserver" in window) {
      const ro = new ResizeObserver(() => syncHomeStickyOffsetVar());
      if (topbarEl) ro.observe(topbarEl);
      if (heroEl) ro.observe(heroEl);
    }

    // Smooth scrolling + active link highlight (single-file, no build)
    const links = Array.from(document.querySelectorAll("[data-product-link]"));
    const sections = links
      .map(a => document.querySelector(a.getAttribute("href")))
      .filter(Boolean);

    for (const a of links) {
      a.addEventListener("click", (e) => {
        const pillClicked = e.target instanceof Element && e.target.closest(".pill");
        if (pillClicked) {
          const detailHref = (a.getAttribute("data-detail-href") || "").trim();
          if (detailHref) {
            e.preventDefault();
            location.href = detailHref;
            return;
          }
        }
        const target = document.querySelector(a.getAttribute("href"));
        if (!target) return;
        e.preventDefault();
        const offsetY = getHomeStickyOffset();
        const targetTop = target.getBoundingClientRect().top + window.scrollY - offsetY;
        window.scrollTo({ top: targetTop, behavior: "smooth" });
        history.replaceState(null, "", a.getAttribute("href"));
      });
    }

    const setActive = () => {
      let best = sections[0];
      const threshold = getHomeStickyOffset();
      for (const s of sections) {
        const top = s.getBoundingClientRect().top;
        if (top <= threshold) best = s;
      }
      const id = best ? "#" + best.id : "";
      for (const a of links) a.classList.toggle("active", a.getAttribute("href") === id);
    };
    document.addEventListener("scroll", setActive, { passive: true });
    setActive();

    const setupMobileQr = () => {
      const qrAnchor = document.getElementById("mobileQrAnchor");
      const qrImg = document.getElementById("mobileQrImg");
      const copyBtn = document.getElementById("mobileCopyBtn");
      const copyStatus = document.getElementById("mobileCopyStatus");
      if (!qrAnchor || !qrImg) return;

      const pageUrl = new URL("./home.html", location.href);
      pageUrl.hash = "";
      const mobileUrl = pageUrl.toString();
      qrAnchor.href = mobileUrl;
      qrImg.src = `https://api.qrserver.com/v1/create-qr-code/?size=180x180&margin=0&data=${encodeURIComponent(mobileUrl)}`;

      const showCopyStatus = (message, isError = false) => {
        if (!copyStatus) return;
        copyStatus.textContent = message;
        copyStatus.classList.toggle("is-error", isError);
        window.setTimeout(() => {
          if (copyStatus.textContent === message) {
            copyStatus.textContent = "";
            copyStatus.classList.remove("is-error");
          }
        }, 1800);
      };

      const copyMobileUrl = async () => {
        try {
          if (navigator.clipboard && window.isSecureContext) {
            await navigator.clipboard.writeText(mobileUrl);
          } else {
            const temp = document.createElement("input");
            temp.value = mobileUrl;
            document.body.appendChild(temp);
            temp.select();
            const copied = document.execCommand("copy");
            temp.remove();
            if (!copied) throw new Error("copy failed");
          }
          showCopyStatus("주소가 복사되었습니다.");
        } catch (error) {
          showCopyStatus("복사 실패", true);
        }
      };

      if (copyBtn) {
        copyBtn.addEventListener("click", () => {
          void copyMobileUrl();
        });
      }
    };
    setupMobileQr();

    // Guide image loading for product cards
    const products = Array.from(document.querySelectorAll(".product"));
    const getGuideWidth = (product) => (product.getAttribute("data-guide-width") || "50%").trim();
    const loadable = (src) =>
      new Promise((resolve) => {
        const img = new Image();
        img.onload = () => resolve(true);
        img.onerror = () => resolve(false);
        img.src = src;
      });

    const applyGuideImages = async () => {
      for (const product of products) {
        const mediaColumn = product.querySelector(".product-grid > div:first-child");
        if (!mediaColumn) continue;
        if (mediaColumn.querySelector("img")) continue;

        const placeholder = mediaColumn.querySelector(".img-ph");
        if (!placeholder) continue;

        const explicitGuideSrc = (product.getAttribute("data-guide-src") || "").trim();
        if (!explicitGuideSrc) continue;
        if (!(await loadable(explicitGuideSrc))) continue;

        const img = document.createElement("img");
        img.src = explicitGuideSrc;
        img.alt = `${(product.querySelector("h2")?.textContent || "제품").trim()} 제품안내 이미지`;
        img.style.width = getGuideWidth(product);
        img.style.height = "auto";
        img.style.borderRadius = "12px";
        img.style.display = "block";
        img.style.margin = "0 auto";
        placeholder.replaceWith(img);
      }
    };

    const applyExistingGuideImageStyles = () => {
      for (const product of products) {
        const mediaColumn = product.querySelector(".product-grid > div:first-child");
        if (!mediaColumn) continue;
        const img = mediaColumn.querySelector("img");
        if (!img) continue;
        img.style.width = getGuideWidth(product);
        img.style.height = "auto";
        img.style.display = "block";
        img.style.margin = "0 auto";
      }
    };

    const wireImageToDetail = () => {
      for (const product of products) {
        const detailLink = Array.from(product.querySelectorAll("a[href]")).find((a) => {
          const href = a.getAttribute("href") || "";
          return href.endsWith(".html") && !href.toLowerCase().includes(".pdf");
        });
        if (!detailLink) continue;

        const mediaColumn = product.querySelector(".product-grid > div:first-child");
        if (!mediaColumn) continue;

        const media = mediaColumn.querySelector("img, .img-ph");
        if (!media || media.closest("a")) continue;

        const link = document.createElement("a");
        link.classList.add("product-media-link");
        link.href = detailLink.getAttribute("href") || "#";
        link.style.display = "block";
        link.style.textDecoration = "none";
        link.setAttribute("aria-label", `${(product.querySelector("h2")?.textContent || "제품").trim()} 상세 페이지`);

        media.parentNode.insertBefore(link, media);
        link.appendChild(media);
        media.style.cursor = "pointer";
      }
    };

    (async () => {
      // Apply width/margin to already-rendered images before async loading starts.
      applyExistingGuideImageStyles();
      wireImageToDetail();

      await applyGuideImages();
      applyExistingGuideImageStyles();
      wireImageToDetail();
    })();
  </script>
</body>
</html>
